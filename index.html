<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRIOE online firmware uploader by JC Catilo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="wrapper">
        <header class="header">
            <h1>TRIOE Online Firmware Uploader</h1>
            <p>Pre-requisite: A browser, Type-C data cable, and a TRIOE Board. Learn more from <a href="https://trioe.dev"><mark>trioe.dev</mark></a></p>
            <i>Note: This will not work on other boards. Ensure no other software (e.g., Arduino IDE, VS Code) is accessing the TRIOE board.</i>
        </header>

        <div class="container">
            <!-- Card 1 -->
            <div class="card">
                <img src="assets/img/1_hello_world.png" alt="Hello World Thumbnail">
                <div class="card-content">
                    <h3 class="card-title">Hello World</h3>
                    <p>This uploads a "Hello World" program to your TRIOE Board.</p>
                    <button class="image-btn" data-image="assets/img/basic_connection.png">View Schematic</button>
                    <esp-web-install-button manifest="1_hello_world/manifest_1.json"></esp-web-install-button>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="card">
                <img src="assets/img/2_blink_1000ms.png" alt="Blink 1000ms Thumbnail">
                <div class="card-content">
                    <h3 class="card-title">Blink 1000ms</h3>
                    <p>This uploads a "Blink LED" program with a 1-second delay.</p>
                    <button class="image-btn" data-image="assets/img/basic_connection.png">View Schematic</button>
                    <esp-web-install-button manifest="2_blink_1000ms/manifest_2.json"></esp-web-install-button>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="card">
                <img src="assets/img/3_blink_1000ms_with_serial.png" alt="Blink with Serial Thumbnail">
                <div class="card-content">
                    <h3 class="card-title">Blink with Serial.println()</h3>
                    <p>Blink LED program with serial output functionality.</p>
                    <button class="image-btn" data-image="assets/img/basic_connection.png">View Schematic</button>
                    <esp-web-install-button manifest="3_blink_1000ms_with_serial/manifest_3.json"></esp-web-install-button>
                </div>
            </div>
        </div>

        <!-- Popup for Images -->
        <div id="popup">
            <div class="popup-content">
                <img id="popupImage" src="" alt="Schematic">
                <button id="closePopup" class="close-btn">Close</button>
            </div>
        </div>

        <!-- Not Supported Message -->
        <div id="notSupported" style="display: none; text-align: center; padding: 20px; color: red;">
            Your browser does not support the Web Serial API. Please use a Chromium-based browser like Google Chrome.
        </div>
    </div>

    <script>
        // Display appropriate content based on Web Serial API support
        if (navigator.serial) {
            document.getElementById("notSupported").style.display = 'none';
        } else {
            document.getElementById("notSupported").style.display = 'block';
        }

        // Popup functionality
        const buttons = document.querySelectorAll('.image-btn');
        const popup = document.getElementById('popup');
        const popupImage = document.getElementById('popupImage');
        const closePopup = document.getElementById('closePopup');

        buttons.forEach(button => {
            button.addEventListener('click', () => {
                popupImage.src = button.getAttribute('data-image');
                popup.style.display = 'flex';
            });
        });

        closePopup.addEventListener('click', () => {
            popup.style.display = 'none';
            popupImage.src = '';
        });
    </script>
    <script
    type="module"
    src="https://cdn.jsdelivr.net/npm/esp-web-tools@latest/dist/web/install-button.js?module">

    
</script>
</body>





</html>